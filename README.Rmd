---
title: "ForSysR"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<!--- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
devtools::load_all()
h = 6
w = 6
ow = "600"
```

<img src="man/figures/forsys_icon.png" align="right" style="height:90px!important; position:absolute; top:10px; right:10px" />

## Scenario planning for restoration and fuel treatments

ForSys is a flexible platform for exploring landscape management scenarios and optimizing decisions in terms of where and how to achieve landscape restoration and fuel management goals. The model is spatially explicit and uses multi-criteria prioritization and optimization created to rapidly design fuel treatment and restoration scenarios. The program evolved from the Landscape Treatment Designer used in prior studies. The program has been used in several research and applied case studies at a range of scales (projects, forests, states, continental United States) to prioritize projects and stand treatments (see case studies). ForSys is available in a windows desktop (ForSysX) and R version (ForSysR).

## Installation

The latest official version of the _forsysr_ package can be installed from [GitHub](https://github.com/forsys-sp/forsysr/) using the following code. Please note that while developmental versions may contain additional features not present in the official version, they may also contain coding errors.

```{r, eval = FALSE}
if (!require(remotes)) install.packages("remotes")
remotes::install_github("forsys-sp/forsysr")
```

## Citation

Please cite the _forsysr_ package when using it in publications. To cite the latest official version, please use:

```{r, echo = FALSE, results = "asis", comment = ""}
cat(paste0("> Evers CR, Ager AA, Day M, Houtman R, Belavenutti P, Lankston R, Bunzel K. (",format(Sys.time(), "%Y"),"). ForSysR: Systematic Project Planning and Prioritization in R. R package version 1.0. Available at https://github.com/forsys-sp/forsysr.\n"))
```

## Usage

Here we will provide a short example showing how the _forsysr_ package can be used to build and solve a simple multi-objective restoration and fuel management problems. For brevity, we will use one of the built-in simulated datasets that is distributed with the package. First, we will load the _forsysr_ package.

```{r, eval = FALSE}
# load package
library(forsys)
```

Although the _forsysr_ can support many different types of planning unit data, here our planning units are represented as polygons in a spatial vector format. Each polygon represents a different planning unit. 

```{r, out.width=ow}
# load planning unit data
data(test_forest)
# show the first rows in the attribute table
head(test_forest)
# plot the planning units
plot(test_forest[,c(4:5,7:10)], border=NA)
```

### Preparing the scenario config file

ForSys is easiest to run by referencing a text file saved using json notation.

```{r, eval = FALSE}
forsys::run(config_file = 'configs/ce_config.json')
```

The json config file provides a simple way to save and specify parameters for running ForSys. These parameters can be pass directly within the function. See `help(forsys::run)` for the complete arguments

```{r, eval = FALSE}
cat(readLines('configs/ce_config.json'), sep='\n')
```

### Running forsysr

ForSys is a modular system is constantly being expanded to new planning problems. In its most general form, ForSys prioritizing projects by maximizing an objective given one or more constraints. The objective represent one or more priorities while the constraints may include a maximum cost or area treated. Thresholds can be set to specify either to define the study area (e.g., a particular ownership) or based on requirements for treatment (e.g., minimum forest cover). ForSys then builds projects and ranks them in order of their priority. Projects can either predefined units or can be built dynamically.

```{r, eval = FALSE}
forsys::run(config_file = 'configs/ce_config.json')
```

### Examining results

### Exploring different project selection methods

## Additional resources

The [package website](https://www.fs.usda.gov/rmrs/projects/forsys-scenario-planning-model-multi-objective-restoration-and-fuel-management-planning) contains information on the _forsysr_ package. 

## Getting help

If you have any questions about the _forsysr_ package or suggestions for improving it, please [post an issue on the code repository](https://github.com/forsysr/issues/new).
